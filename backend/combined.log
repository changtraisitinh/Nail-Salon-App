{"level":"debug","message":"Query: BEGIN","timestamp":"2025-04-14T04:33:15.534Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:33:15.536Z"}
{"level":"debug","message":"Query: INSERT INTO \"public\".\"Appointment\" (\"id\",\"userId\",\"serviceId\",\"staffId\",\"date\",\"timeRange\",\"status\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,CAST($7::text AS \"public\".\"Status\"),$8,$9) RETURNING \"public\".\"Appointment\".\"id\"","timestamp":"2025-04-14T04:33:15.537Z"}
{"level":"debug","message":"Duration: 3ms","timestamp":"2025-04-14T04:33:15.538Z"}
{"level":"debug","message":"Query: ROLLBACK","timestamp":"2025-04-14T04:33:15.538Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:33:15.538Z"}
{"level":"error","message":"Database Error: \nInvalid `prisma.appointment.create()` invocation in\n/Users/mac/Engineering/GitHub/fullstack-engineering-learning/frontend/obytes/obytes-hello-project/backend/src/services/appointment.service.ts:22:31\n\n  19   date: Date;\n  20   timeRange: string;\n  21 }) {\n→ 22   return prisma.appointment.create(\nForeign key constraint violated: `Appointment_userId_fkey (index)`","timestamp":"2025-04-14T04:33:15.546Z"}
{"level":"debug","message":"Query: SELECT 1","timestamp":"2025-04-14T04:33:45.617Z"}
{"level":"debug","message":"Duration: 1ms","timestamp":"2025-04-14T04:33:45.617Z"}
{"level":"debug","message":"Query: BEGIN","timestamp":"2025-04-14T04:33:45.617Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:33:45.617Z"}
{"level":"debug","message":"Query: INSERT INTO \"public\".\"Appointment\" (\"id\",\"userId\",\"serviceId\",\"staffId\",\"date\",\"timeRange\",\"status\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,CAST($7::text AS \"public\".\"Status\"),$8,$9) RETURNING \"public\".\"Appointment\".\"id\"","timestamp":"2025-04-14T04:33:45.618Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:33:45.618Z"}
{"level":"debug","message":"Query: ROLLBACK","timestamp":"2025-04-14T04:33:45.618Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:33:45.618Z"}
{"level":"error","message":"Database Error: \nInvalid `prisma.appointment.create()` invocation in\n/Users/mac/Engineering/GitHub/fullstack-engineering-learning/frontend/obytes/obytes-hello-project/backend/src/services/appointment.service.ts:22:31\n\n  19   date: Date;\n  20   timeRange: string;\n  21 }) {\n→ 22   return prisma.appointment.create(\nForeign key constraint violated: `Appointment_userId_fkey (index)`","timestamp":"2025-04-14T04:33:45.620Z"}
{"level":"debug","message":"Query: SELECT 1","timestamp":"2025-04-14T04:35:43.721Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:35:43.721Z"}
{"level":"debug","message":"Query: BEGIN","timestamp":"2025-04-14T04:35:43.721Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:35:43.721Z"}
{"level":"debug","message":"Query: INSERT INTO \"public\".\"Appointment\" (\"id\",\"userId\",\"serviceId\",\"staffId\",\"date\",\"timeRange\",\"status\",\"createdAt\",\"updatedAt\") VALUES ($1,$2,$3,$4,$5,$6,CAST($7::text AS \"public\".\"Status\"),$8,$9) RETURNING \"public\".\"Appointment\".\"id\"","timestamp":"2025-04-14T04:35:43.724Z"}
{"level":"debug","message":"Duration: 2ms","timestamp":"2025-04-14T04:35:43.724Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Appointment\".\"id\", \"public\".\"Appointment\".\"userId\", \"public\".\"Appointment\".\"serviceId\", \"public\".\"Appointment\".\"staffId\", \"public\".\"Appointment\".\"date\", \"public\".\"Appointment\".\"timeRange\", \"public\".\"Appointment\".\"status\"::text, \"public\".\"Appointment\".\"createdAt\", \"public\".\"Appointment\".\"updatedAt\" FROM \"public\".\"Appointment\" WHERE \"public\".\"Appointment\".\"id\" = $1 LIMIT $2 OFFSET $3","timestamp":"2025-04-14T04:35:43.725Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:35:43.725Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Service\".\"id\", \"public\".\"Service\".\"name\", \"public\".\"Service\".\"description\", \"public\".\"Service\".\"price\", \"public\".\"Service\".\"duration\", \"public\".\"Service\".\"category\"::text, \"public\".\"Service\".\"createdAt\", \"public\".\"Service\".\"updatedAt\", \"public\".\"Service\".\"imageUrl\" FROM \"public\".\"Service\" WHERE \"public\".\"Service\".\"id\" IN ($1) OFFSET $2","timestamp":"2025-04-14T04:35:43.725Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:35:43.725Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Staff\".\"id\", \"public\".\"Staff\".\"name\", \"public\".\"Staff\".\"email\", \"public\".\"Staff\".\"phone\", \"public\".\"Staff\".\"avatarUrl\", \"public\".\"Staff\".\"createdAt\", \"public\".\"Staff\".\"updatedAt\" FROM \"public\".\"Staff\" WHERE \"public\".\"Staff\".\"id\" IN ($1) OFFSET $2","timestamp":"2025-04-14T04:35:43.727Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:35:43.727Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"User\".\"id\", \"public\".\"User\".\"email\", \"public\".\"User\".\"password\", \"public\".\"User\".\"name\", \"public\".\"User\".\"phone\", \"public\".\"User\".\"role\"::text, \"public\".\"User\".\"createdAt\", \"public\".\"User\".\"updatedAt\" FROM \"public\".\"User\" WHERE \"public\".\"User\".\"id\" IN ($1) OFFSET $2","timestamp":"2025-04-14T04:35:43.727Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:35:43.728Z"}
{"level":"debug","message":"Query: COMMIT","timestamp":"2025-04-14T04:35:43.728Z"}
{"level":"debug","message":"Duration: 1ms","timestamp":"2025-04-14T04:35:43.728Z"}
{"level":"debug","message":"Query: SELECT 1","timestamp":"2025-04-14T04:37:37.765Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:37:37.766Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Appointment\".\"id\", \"public\".\"Appointment\".\"userId\", \"public\".\"Appointment\".\"serviceId\", \"public\".\"Appointment\".\"staffId\", \"public\".\"Appointment\".\"date\", \"public\".\"Appointment\".\"timeRange\", \"public\".\"Appointment\".\"status\"::text, \"public\".\"Appointment\".\"createdAt\", \"public\".\"Appointment\".\"updatedAt\" FROM \"public\".\"Appointment\" WHERE \"public\".\"Appointment\".\"userId\" = $1 ORDER BY \"public\".\"Appointment\".\"date\" DESC OFFSET $2","timestamp":"2025-04-14T04:37:37.767Z"}
{"level":"debug","message":"Duration: 1ms","timestamp":"2025-04-14T04:37:37.767Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Service\".\"id\", \"public\".\"Service\".\"name\", \"public\".\"Service\".\"description\", \"public\".\"Service\".\"price\", \"public\".\"Service\".\"duration\", \"public\".\"Service\".\"category\"::text, \"public\".\"Service\".\"createdAt\", \"public\".\"Service\".\"updatedAt\", \"public\".\"Service\".\"imageUrl\" FROM \"public\".\"Service\" WHERE \"public\".\"Service\".\"id\" IN ($1) OFFSET $2","timestamp":"2025-04-14T04:37:37.767Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:37:37.767Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Staff\".\"id\", \"public\".\"Staff\".\"name\", \"public\".\"Staff\".\"email\", \"public\".\"Staff\".\"phone\", \"public\".\"Staff\".\"avatarUrl\", \"public\".\"Staff\".\"createdAt\", \"public\".\"Staff\".\"updatedAt\" FROM \"public\".\"Staff\" WHERE \"public\".\"Staff\".\"id\" IN ($1) OFFSET $2","timestamp":"2025-04-14T04:37:37.768Z"}
{"level":"debug","message":"Duration: 0ms","timestamp":"2025-04-14T04:37:37.768Z"}
{"errors":["Invalid email address","Password must be at least 8 characters long"],"level":"error","name":"ValidationError","statusCode":400,"timestamp":"2025-04-15T02:56:28.532Z"}
{"errors":["Invalid email address","Password must be at least 8 characters long"],"level":"error","name":"ValidationError","statusCode":400,"timestamp":"2025-04-15T02:58:29.285Z"}
{"errors":["Invalid email address","Password must be at least 8 characters long"],"level":"error","name":"ValidationError","statusCode":400,"timestamp":"2025-04-15T02:59:59.216Z"}
{"errors":["Password must be at least 8 characters long"],"level":"error","name":"ValidationError","statusCode":400,"timestamp":"2025-04-15T03:02:34.236Z"}
{"errors":["Password must be at least 8 characters long"],"level":"error","name":"ValidationError","statusCode":400,"timestamp":"2025-04-15T03:03:32.392Z"}
{"errors":["Password must be at least 8 characters long"],"level":"error","name":"ValidationError","statusCode":400,"timestamp":"2025-04-15T03:05:31.027Z"}
{"level":"debug","message":"Query: UPDATE \"public\".\"Appointment\" SET \"timeRange\" = $1, \"updatedAt\" = $2 WHERE (\"public\".\"Appointment\".\"id\" = $3 AND 1=1) RETURNING \"public\".\"Appointment\".\"id\", \"public\".\"Appointment\".\"userId\", \"public\".\"Appointment\".\"serviceId\", \"public\".\"Appointment\".\"staffId\", \"public\".\"Appointment\".\"date\", \"public\".\"Appointment\".\"timeRange\", \"public\".\"Appointment\".\"status\"::text, \"public\".\"Appointment\".\"createdAt\", \"public\".\"Appointment\".\"updatedAt\"","timestamp":"2025-04-15T08:15:35.749Z"}
{"level":"debug","message":"Duration: 4ms","timestamp":"2025-04-15T08:15:35.753Z"}
{"level":"debug","message":"Query: UPDATE \"public\".\"Appointment\" SET \"status\" = CAST($1::text AS \"public\".\"Status\"), \"updatedAt\" = $2 WHERE (\"public\".\"Appointment\".\"id\" = $3 AND 1=1) RETURNING \"public\".\"Appointment\".\"id\", \"public\".\"Appointment\".\"userId\", \"public\".\"Appointment\".\"serviceId\", \"public\".\"Appointment\".\"staffId\", \"public\".\"Appointment\".\"date\", \"public\".\"Appointment\".\"timeRange\", \"public\".\"Appointment\".\"status\"::text, \"public\".\"Appointment\".\"createdAt\", \"public\".\"Appointment\".\"updatedAt\"","timestamp":"2025-04-15T08:28:47.792Z"}
{"level":"debug","message":"Duration: 3ms","timestamp":"2025-04-15T08:28:47.794Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Appointment\".\"id\", \"public\".\"Appointment\".\"userId\", \"public\".\"Appointment\".\"serviceId\", \"public\".\"Appointment\".\"staffId\", \"public\".\"Appointment\".\"date\", \"public\".\"Appointment\".\"timeRange\", \"public\".\"Appointment\".\"status\"::text, \"public\".\"Appointment\".\"createdAt\", \"public\".\"Appointment\".\"updatedAt\" FROM \"public\".\"Appointment\" WHERE \"public\".\"Appointment\".\"userId\" = $1 ORDER BY \"public\".\"Appointment\".\"date\" DESC OFFSET $2","timestamp":"2025-04-15T08:28:59.122Z"}
{"level":"debug","message":"Duration: 2ms","timestamp":"2025-04-15T08:28:59.123Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Service\".\"id\", \"public\".\"Service\".\"name\", \"public\".\"Service\".\"description\", \"public\".\"Service\".\"price\", \"public\".\"Service\".\"duration\", \"public\".\"Service\".\"category\"::text, \"public\".\"Service\".\"createdAt\", \"public\".\"Service\".\"updatedAt\", \"public\".\"Service\".\"imageUrl\" FROM \"public\".\"Service\" WHERE \"public\".\"Service\".\"id\" IN ($1) OFFSET $2","timestamp":"2025-04-15T08:28:59.123Z"}
{"level":"debug","message":"Duration: 1ms","timestamp":"2025-04-15T08:28:59.124Z"}
{"level":"debug","message":"Query: SELECT \"public\".\"Staff\".\"id\", \"public\".\"Staff\".\"name\", \"public\".\"Staff\".\"email\", \"public\".\"Staff\".\"phone\", \"public\".\"Staff\".\"avatarUrl\", \"public\".\"Staff\".\"createdAt\", \"public\".\"Staff\".\"updatedAt\" FROM \"public\".\"Staff\" WHERE \"public\".\"Staff\".\"id\" IN ($1) OFFSET $2","timestamp":"2025-04-15T08:28:59.126Z"}
{"level":"debug","message":"Duration: 2ms","timestamp":"2025-04-15T08:28:59.127Z"}
